(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{296:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var o=s(93);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var s=[],o=!0,i=!1,a=void 0;try{for(var n,r=e[Symbol.iterator]();!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(c){i=!0,a=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||Object(o.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},297:function(e,t,s){"use strict";t.a=s.p+"static/media/AvaSmall.7ee9caee.png"},299:function(e,t,s){},301:function(e,t,s){e.exports={postsHeader:"MyPosts_postsHeader__2alhm",submit:"MyPosts_submit__2mTaz",reset:"MyPosts_reset__2Hxxm",posts:"MyPosts_posts__1Zmyu"}},302:function(e,t,s){e.exports={item:"Post_item__2zumy"}},303:function(e,t,s){},304:function(e,t,s){},306:function(e,t,s){"use strict";s.r(t);var o=s(3),i=s(27),a=s(28),n=s(30),r=s(29),c=s(0),l=s.n(c),b=s(12),j=s(91),u=s(124),m=s(125),d=s(301),p=s.n(d),f=s(302),h=s.n(f),O=s(1),x=function(e){return Object(O.jsx)("div",{className:h.a.item,children:e.textPost})},_=s(41),v=s(36),k=Object(_.a)(10),g=Object(m.a)({form:"post"})((function(e){return Object(O.jsxs)("form",{onSubmit:function(){e.handleSubmit(),e.reset()},children:[Object(O.jsx)(u.a,{cols:"30",rows:"3",component:v.b,name:"postText",validate:[_.b,k]}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:p.a.submit,type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(O.jsx)("button",{className:p.a.reset,type:"reset",onClick:e.reset,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]})})),y=l.a.memo((function(e){var t=e.posts.map((function(e,t){return Object(O.jsx)(x,{textPost:e.textPost},t)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:p.a.postsHeader,children:"My posts"}),Object(O.jsx)(g,{onSubmit:function(t){e.addPost(t.postText)}}),Object(O.jsx)("div",{className:p.a.posts,children:t})]})})),N=Object(b.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(j.a)(t))}}}))(y),F=s(296),P=s(84),w=(s(299),s(297)),S=function(e){var t=Object(c.useState)(!1),s=Object(F.a)(t,2),o=s[0],i=s[1],a=Object(c.useState)(e.status),n=Object(F.a)(a,2),r=n[0],l=n[1];Object(c.useEffect)((function(){l(e.status)}),[e.status]);var b=function(){i(!o),o&&e.status!=r&&e.setStatusThunkCreator(r)};return Object(O.jsx)("div",{className:"profileInfo__status",children:o?Object(O.jsx)("textarea",{onChange:function(e){l(e.target.value)},autoFocus:!0,onBlur:b,type:"text",value:r}):e.isOwner?Object(O.jsx)("span",{disabled:!0,onClick:b,children:e.status||"-------"}):Object(O.jsx)("span",{disabled:!0,children:e.status||"-------"})})},M=(s(303),function(e){var t=e.contactTitle,s=e.contactValue;return Object(O.jsxs)("div",{className:"profileData__contacts item__contacts",children:["".concat(t[0].toUpperCase()).concat(t.slice(1)),": ",Object(O.jsx)("a",{href:s,children:s})]})}),C=function(e){var t=e.profile,s=e.isOwner,o=e.setEditMode;return Object(O.jsxs)("div",{className:"profileData",children:[Object(O.jsxs)("div",{className:"profileData__item",children:["Looking for a job: ",t.lookingForAJob?"Yes":"No"]}),t.lookingForAJobDescription&&Object(O.jsxs)("div",{className:"profileData__item",children:["My professionals skills: ",t.lookingForAJobDescription]}),t.aboutMe&&Object(O.jsxs)("div",{className:"profileData__item",children:["About me: ",t.aboutMe]}),Object(O.jsxs)("div",{className:"profileData__contacts",children:[Object(O.jsx)("span",{className:"profileData__contacts_title",children:"Contacts:"}),Object.keys(t.contacts).map((function(e){if(t.contacts[e])return Object(O.jsx)(M,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),s&&Object(O.jsx)("button",{className:"btn",onClick:o,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]})},D=(s(304),s(92),Object(m.a)({form:"editProfile"})((function(e){return Object(O.jsxs)("form",{action:"",onSubmit:e.handleSubmit,className:"profileForm",children:[Object(O.jsx)("button",{className:"profileForm__btn btn",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(O.jsx)("button",{className:"profileForm__btn btn",onClick:function(){e.reset(),e.setEditMode()},type:"button",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),e.error&&Object(O.jsx)("div",{className:"error",children:Object(O.jsx)("div",{className:"error__message",children:e.error})}),Object(O.jsx)("label",{htmlFor:"fullName",children:"Full name: "}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.a,name:"fullName",id:"fullName"})}),Object(O.jsx)("label",{htmlFor:"job",children:"Looking for a job"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{type:"checkbox",component:v.a,name:"lookingForAJob",id:"job"})}),Object(O.jsx)("label",{htmlFor:"jobDesk",children:"My professional skills:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.b,name:"lookingForAJobDescription",id:"jobDesk"})}),Object(O.jsx)("label",{htmlFor:"aboutMe",children:"About me:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.b,name:"aboutMe",id:"aboutMe"})}),Object(O.jsx)("label",{htmlFor:"gitHub",children:"GitHub:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.a,name:"github",id:"gitHub"})}),Object(O.jsx)("label",{htmlFor:"vk",children:"VK:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.a,name:"vk",id:"vk",value:"Hello"})}),Object(O.jsx)("label",{htmlFor:"facebook",children:"Facebook:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.a,name:"facebook",id:"facebook"})}),Object(O.jsx)("label",{htmlFor:"instagram",children:"Instagram:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.a,name:"instagram",id:"instagram"})}),Object(O.jsx)("label",{htmlFor:"twitter",children:"Twitter:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.a,name:"twitter",id:"twitter"})}),Object(O.jsx)("label",{htmlFor:"website",children:"Website:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.a,name:"website",id:"website"})}),Object(O.jsx)("label",{htmlFor:"mainlink",children:"MainLink:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.a,name:"mainLink",id:"mainlink"})}),Object(O.jsx)("label",{htmlFor:"youtube",children:"Youtube:"}),Object(O.jsx)("div",{className:"profileForm__item",children:Object(O.jsx)(u.a,{component:v.a,name:"youtube",id:"youtube"})})]})}))),I=Object(b.b)((function(e){return{initialValues:Object(o.a)(Object(o.a)(Object(o.a)({},e.profilePage.profile),e.profilePage.profile.contacts),{},{contacts:null}),profile:e.profilePage.profile}}),{updateDataProfile:j.h})((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(D,{setEditMode:e.setEditMode,initialValues:e.initialValues,onSubmit:function(t){var s=Object(o.a)(Object(o.a)({},t),{},{contacts:{github:t.github,vk:t.vk,facebook:t.facebook,instagram:t.instagram,twitter:t.twitter,website:t.website,youtube:t.youtube,mainLink:t.mainlink}});e.updateDataProfile(s).then((function(){e.setEditMode()}))}})})})),T=function(e){var t=Object(c.useState)(!1),s=Object(F.a)(t,2),o=s[0],i=s[1];return Object(O.jsx)("div",{children:e.profile?Object(O.jsxs)("div",{className:"profileInfo",children:[Object(O.jsxs)("div",{className:"profileInfo__avatarBlock",children:[Object(O.jsx)("img",{src:e.profile.photos.large||w.a,alt:""}),e.isOwner?Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"file",id:"file_photo",className:"profileInfo__inputPhoto",onChange:function(t){e.savePhoto(t.target.files[0])}}),Object(O.jsx)("label",{htmlFor:"file_photo",children:Object(O.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})})]}):null]}),Object(O.jsxs)("div",{className:"profileInfo__descriptionBlock",children:[Object(O.jsx)("h4",{children:e.profile.fullName}),Object(O.jsx)("span",{className:"profileInfo__descriptionBlock_statusSpan",children:"Status:"}),Object(O.jsx)(S,{setStatusThunkCreator:e.setStatusThunkCreator,status:e.status,isOwner:e.isOwner}),Object(O.jsx)("br",{}),o?Object(O.jsx)(I,{setEditMode:function(){return i(!1)}}):Object(O.jsx)(C,{profile:e.profile,setEditMode:function(){return i(!0)},isOwner:e.isOwner})]})]}):Object(O.jsx)(P.a,{})})},A=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)(T,Object(o.a)({},e)),Object(O.jsx)(N,{})]})},E=s(10),L=(s(134),s(11)),H=function(e){Object(n.a)(s,e);var t=Object(r.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId||this.props.userLoginID;this.props.getStatusThunkCreator(e),this.props.getUserProfileThunkCreator(e)}},{key:"componentWillMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId==e.match.params.userId&&this.props.userLoginID==e.userLoginID||this.refreshProfile()}},{key:"render",value:function(){return Object(O.jsx)(A,Object(o.a)(Object(o.a)({},this.props),{},{savePhoto:this.props.savePhotoThunkCreator,isOwner:!this.props.match.params.userId}))}}]),s}(l.a.Component);t.default=Object(L.d)(Object(b.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userLoginID:e.auth.id}}),{setUserProfile:j.g,getUserProfileThunkCreator:j.d,setStatusThunkCreator:j.f,getStatusThunkCreator:j.c,savePhotoThunkCreator:j.e}),E.h)(H)}}]);
//# sourceMappingURL=3.ce0aad56.chunk.js.map