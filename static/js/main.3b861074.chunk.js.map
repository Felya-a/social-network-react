{"version":3,"sources":["redux/usersReduser.js","Components/Footer/Footer.module.css","Components/News/News.module.css","Components/Music/Music.module.css","Components/NavBar/NavBar.module.css","redux/api.js","Components/Dialogs/Dialogs.module.css","reportWebVitals.js","Components/NavBar/NavBar.jsx","Components/Footer/Footer.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Dialogs/DialogItem/DialogsItem.jsx","Components/Dialogs/MessageItem/MessageItem.jsx","Components/Dialogs/Dialogs.jsx","redux/dialogsReducer.js","Components/Dialogs/DialogsContainer.jsx","Components/Settings/Settings.jsx","Components/Settings/SettingsContainer.jsx","redux/authReduser.js","Components/Header/Header.jsx","Components/Header/HeaderContainer.jsx","Components/Login/Login.jsx","redux/appReducer.js","App.js","redux/sidebarReducer.js","redux/footerReducer.js","redux/reduxStore.js","index.js","Components/common/FormsControls/FormsControls.jsx","utils/validators/validators.js","Components/Header/Header.module.css","Components/common/FormsControls/FormsControls.module.css","redux/profileReducer.js","Components/Settings/Settings.module.css","Components/common/PreLoader/Preloader.jsx","Components/common/PreLoader/Preloader.module.css","hoc/withAuthRedirect.js"],"names":["FOLLOW","UNFOLLOW","SET_USERS","CHENGE_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","follow","userID","type","unfollow","chengeCurrentPage","newCurrentPage","toggleIsFetching","isFetching","toggleFollowingProgress","getUsersThunkCreator","currentPage","pageSize","dispatch","a","getUsers","data","users","items","totalCount","followThunkCreator","chengeFollow","followPost","unfollowThunkCreator","followDelete","apiMethod","actionCreator","resultCode","initialState","totalUsersCount","followingIsProgress","usersReducer","state","action","map","item","id","followed","filter","module","exports","instance","axios","withCredentials","baseURL","headers","get","then","response","post","delete","authMe","getProfile","getStatus","updateStatus","status","put","logining","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","NavBar","className","classes","nav","to","activeClassName","activeLink","Footer","time","setInterval","Date","hours","TotalTime","String","getHours","minutes","getMinutes","sec","getSeconds","setState","str","length","footer","this","React","Component","News","props","content","Music","DialogItem","dialog","name","MessageItem","Message","text","maxLengthCreator10","maxLengthCreator","DialogsReduxFrom","reduxForm","form","onSubmit","handleSubmit","MessageInput","Field","cols","rows","placeholder","validate","required","component","Textarea","submit","Dialogs","DialogsElemenst","dialogsPage","dialogs","MessagesElemenst","messages","dialogsItems","MessagesItems","formData","sendMessage","messageText","SEND_MESSAGE","UPDATE_NEW_MESSAGE_TEXT","newMessageText","dialogsReducer","newText","compose","connect","onMessageChenge","updateNewMessageText","sendMessageActionCretor","withAuthRedirect","Settings","settings","settingItem","onClick","newScore","settingvalue","SettingsScore","SettingsContainer","profilePage","SettingsChangeScore","SET_USER_DATA","LOGOUT_USER","setAuthUserData","login","authMeThunkCreator","isAuth","authReducer","Header","header","logo","src","info","loginBlock","toUpperCase","loginBlock_Item","HeaderContainer","auth","LoginReduxForm","Input","error","styles","formSummatyError","reset","loginThunkCreator","errorMessage","stopSubmit","_error","logoutProfile","SET_INITIALIZED","initialized","appReducer","UsersContainer","lazy","ProfileContainer","App","initializeApp","Suspense","fallback","Preloader","path","render","DialogsContainer","app","promise","Promise","all","sidebarReducer","SET_TIME","footerReducer","reducers","combineReducers","profileReducer","sidebarPage","usersPage","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","StrictMode","document","getElementById","FormsControl","input","meta","hasError","touched","formControl","tagName","value","maxLength","ADD_POST","SETTINGS_CHANGE_SCORE","SET_USER_PROFILE","SET_STATUS","addPostActionCreator","postText","setUserProfile","profile","setStatus","setStatusThunkCreator","getStatusThunkCreator","getUserProfileThunkCreator","posts","textPost","newPostText","newPost","preloader","spinner","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.3b861074.chunk.js","sourcesContent":["import { getUsers, followPost, followDelete } from \"./api\";\r\n\r\n// Action Type\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst CHENGE_CURRENT_PAGE = \"CHENGE_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"; // Preloader перез загрузкой списка юзеров\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"; // disable button follow\r\n\r\n// Action Creator\r\nexport const follow = (userID) => ({ type: FOLLOW, userID })\r\nexport const unfollow = (userID) => ({ type: UNFOLLOW, userID })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const chengeCurrentPage = (newCurrentPage) => ({ type: CHENGE_CURRENT_PAGE, newCurrentPage })\r\nexport const setTotalUsersCount = (totalCount) => ({ type: SET_TOTAL_USERS_COUNT, totalCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userID) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userID })\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (dispatch) => { // замыкание, ф-я высшего порядка \r\n\tdispatch(chengeCurrentPage(currentPage))\r\n\tdispatch(toggleIsFetching(true));\r\n\tlet data = await getUsers(currentPage, pageSize)\r\n\tdispatch(toggleIsFetching(false));\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nexport const followThunkCreator = (userID) => async (dispatch) => { // замыкание, ф-я высшего порядка\r\n\tchengeFollow(dispatch, userID, followPost, follow);\r\n}\r\n\r\nexport const unfollowThunkCreator = (userID) => async (dispatch) => { // замыкание, ф-я высшего порядка\r\n\tchengeFollow(dispatch, userID, followDelete, unfollow);\r\n}\r\n\r\n// убрали дублирование кода вынеся общую логику в отдельную функцию\r\nasync function chengeFollow(dispatch, userID, apiMethod, actionCreator) {\r\n\tdispatch(toggleFollowingProgress(true, userID));\r\n\tlet response = await apiMethod(userID);\r\n\tif (response.data.resultCode == 0) dispatch(actionCreator(userID));\r\n\tdispatch(toggleFollowingProgress(false, userID));\r\n}\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUsersCount: 24,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingIsProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(item => (item.id == action.userID) ? { ...item, followed: true } : item)\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(item => (item.id == action.userID) ? { ...item, followed: false } : item)\r\n\t\t\t}\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [...action.users],\r\n\t\t\t\t// users: [...state.users, ...action.users],\r\n\t\t\t}\r\n\t\tcase CHENGE_CURRENT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.newCurrentPage,\r\n\t\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUsersCount: action.totalCount,\r\n\t\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching,\r\n\t\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingIsProgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingIsProgress, action.userID]\r\n\t\t\t\t\t: state.followingIsProgress.filter(id => id != action.userID),\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default usersReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__2pf7n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"News_content__DVlXq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Music_content__2ds-x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__30leb\",\"item\":\"NavBar_item__26yVW\",\"activeLink\":\"NavBar_activeLink__1jYXl\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"8aab515b-a7ff-412f-94c0-660df0312e47\",\r\n  }\r\n});\r\n\r\nexport const getUsers = (currentPage = 1, pageSize = 5) => {\r\n  return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    .then(response => {\r\n      return response.data;\r\n    })\r\n}\r\n\r\nexport const followPost = (id) => {\r\n  return instance.post(`follow/${id}`)\r\n}\r\n\r\nexport const followDelete = (id) => {\r\n  return instance.delete(`follow/${id}`)\r\n}\r\n\r\nexport const authMe = () => {\r\n  return instance.get(`auth/me`)\r\n}\r\n\r\nexport const getProfile = (id) => {\r\n  return instance.get(`profile/${id}`)\r\n}\r\n\r\nexport const getStatus = (id) => {\r\n  return instance.get(`profile/status/${id}`)\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n  return instance.put(`/profile/status`, {\r\n    status,\r\n  })\r\n}\r\n\r\nexport const logining = (email, password, rememberMe = false) => {\r\n  return instance.post('/auth/login', {\r\n    email,\r\n    password,\r\n    rememberMe,\r\n  })\r\n}\r\n\r\nexport const logout = () => {\r\n  return instance.delete('auth/login')\r\n}\r\n\r\n// Рабочий запрос\r\n// axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${item.id}`, {}, {\r\n//   withCredentials: true,\r\n//   headers: { \"API-KEY\": \"8aab515b-a7ff-412f-94c0-660df0312e47\" }\r\n// })\r\n//   .then(response => {\r\n//     if (response.data.resultCode == 0) props.follow(item.id);\r\n//   })","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialogs_content__2LYe-\",\"dialogsItems\":\"Dialogs_dialogsItems__3lcZS\",\"dialog\":\"Dialogs_dialog__36ELV\",\"active\":\"Dialogs_active__3GVtM\",\"MessagesItems\":\"Dialogs_MessagesItems__2P88K\",\"MessagesElemenst\":\"Dialogs_MessagesElemenst__1IxmD\",\"MessageInput\":\"Dialogs_MessageInput__1lh9v\",\"submit\":\"Dialogs_submit__25aAn\",\"Message\":\"Dialogs_Message__2GDDs\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { NavLink } from 'react-router-dom';\r\nimport classes from './NavBar.module.css';\r\n\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <NavLink to=\"/profile\" className={classes.item} activeClassName={classes.activeLink} >Profile</NavLink>\r\n            <NavLink to=\"/dialogs\" className={classes.item} activeClassName={classes.activeLink} >Messages</NavLink>\r\n            <NavLink to=\"/users\" className={classes.item} activeClassName={classes.activeLink} >Users</NavLink>\r\n            <NavLink to=\"/news\" className={classes.item} activeClassName={classes.activeLink}>News</NavLink>\r\n            <NavLink to=\"/music\" className={classes.item} activeClassName={classes.activeLink}>Music</NavLink>\r\n            <br />\r\n            <NavLink to=\"/settings\" className={classes.item} activeClassName={classes.activeLink}>Settings</NavLink>\r\n            <NavLink to=\"/login\" className={classes.item} activeClassName={classes.activeLink}>Login</NavLink>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport classes from './Footer.module.css';\r\n\r\nclass Footer extends React.Component {\r\n    state = {\r\n        time: 'Time'\r\n    }\r\n    componentDidMount() {\r\n        setInterval(() => { // часы\r\n            let time = new Date();\r\n            let hours = this.TotalTime(String(time.getHours()));\r\n            let minutes = this.TotalTime(String(time.getMinutes()));\r\n            let sec = this.TotalTime(String(time.getSeconds()));\r\n            this.setState({ time: `${hours}:${minutes}:${sec}` })\r\n        }\r\n            , 1000);\r\n    }\r\n    // добавление лидирующего нуля\r\n    TotalTime(str) {\r\n        if (str.length == 1) return \"0\" + str;\r\n        return str\r\n    }\r\n    render() {\r\n        return <div className={classes.footer}>\r\n            {this.state.time}\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Footer;","import classes from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className={classes.content}>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import classes from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div className={classes.content}>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import { NavLink } from 'react-router-dom';\r\nimport classes from './../Dialogs.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <NavLink to={`/dialogs/${props.id}`} className={classes.dialog}> {props.name} </NavLink>\r\n    )\r\n}\r\n\r\n\r\nexport default DialogItem;","import { NavLink } from 'react-router-dom';\r\nimport classes from './../Dialogs.module.css';\r\n\r\nconst MessageItem = (props) => {\r\n    return (\r\n        <div className={classes.Message}>{props.text}</div>\r\n    )\r\n}\r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport DialogItem from './DialogItem/DialogsItem';\r\nimport MessageItem from './MessageItem/MessageItem';\r\nimport classes from './Dialogs.module.css';\r\nimport { Textarea } from '../common/FormsControls/FormsControls';\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\r\n\r\nconst maxLengthCreator10 = maxLengthCreator(10); // потом исправить на большее значение\r\n\r\n\r\nconst DialogsForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit} className={classes.MessageInput}>\r\n\t\t\t<Field\r\n\t\t\t\tcols='30'\r\n\t\t\t\trows='3'\r\n\t\t\t\tplaceholder='Введите сообщение...'\r\n\t\t\t\tname='messageText'\r\n\t\t\t\tvalidate = {[required, maxLengthCreator10]}\r\n\t\t\t\tcomponent={Textarea}\r\n\t\t\t/>\r\n\t\t\t<button className={classes.submit} type='submit'>Отправить</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst DialogsReduxFrom = reduxForm({ form: 'messages' })(DialogsForm);\r\n\r\nconst Dialogs = (props) => {\r\n\t// преобразование объкта с сообщениями и диалогами в jsx разметку (поэлементно)\r\n\tlet DialogsElemenst = props.dialogsPage.dialogs.map(item => (<DialogItem name={item.name} id={item.id} />))\r\n\tlet MessagesElemenst = props.dialogsPage.messages.map(item => (<MessageItem text={item.text} id={item.id} />))\r\n\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.sendMessage(formData.messageText)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.content}>\r\n\t\t\t<div className={classes.dialogsItems}>\r\n\t\t\t\t{DialogsElemenst}\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.MessagesItems}>\r\n\t\t\t\t<div className={classes.MessagesElemenst}>\r\n\t\t\t\t\t{MessagesElemenst}\r\n\t\t\t\t</div>\r\n\t\t\t\t<DialogsReduxFrom onSubmit={onSubmit}/>\r\n\t\t\t</div>\r\n\t\t</div >\r\n\t)\r\n}\r\n\r\nexport default Dialogs;","// Action Type\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT';\r\n\r\n// Action Creator\r\nexport const sendMessageActionCretor = (messageText) => ({\r\n    type: SEND_MESSAGE,\r\n    messageText\r\n})\r\nexport const updateNewMessageText = (text) => ({\r\n    type: UPDATE_NEW_MESSAGE_TEXT,\r\n    newText: text,\r\n})\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: \"Alex\" },\r\n        { id: 2, name: \"Kristina\" },\r\n        { id: 3, name: \"Anasteysha\" },\r\n        { id: 4, name: \"Kate\" },\r\n        { id: 5, name: \"Victoria\" },\r\n    ],\r\n    messages: [\r\n        { id: 1, text: \"Lorem, ipsum.\" },\r\n        { id: 1, text: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatibus, dicta.\" },\r\n        { id: 1, text: \"Далеко-далеко за словесными горами в стране, гласных и согласных.\" },\r\n    ],\r\n    newMessageText: 'Message',\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                newMessageText: '',\r\n                messages: [...state.messages, { id: 6, text: action.messageText }]\r\n            }\r\n        case UPDATE_NEW_MESSAGE_TEXT:\r\n            return {\r\n                ...state,\r\n                newMessageText: action.newText,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","import Dialogs from './Dialogs.jsx';\r\nimport { updateNewMessageText, sendMessageActionCretor } from '../../redux/dialogsReducer.js';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect.js';\r\nimport { compose } from 'redux';\r\n\r\n\r\n// превращаем часть state в будущие пропсы\r\nlet mapStateToProps = (state) => {  // state передается в параметры самим react-redux - вручную это делать не нужно\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onMessageChenge: (text) => {\r\n      dispatch(updateNewMessageText(text))\r\n    },\r\n    sendMessage: (messageText) => {\r\n      dispatch(sendMessageActionCretor(messageText))\r\n    },\r\n  }\r\n}\r\n\r\n// const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent) // функция connect вызовет первую фунцкцию и передаст в неё state и вызовет вторую функцию и передаст в неё store.dispatch.bind(store)\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withAuthRedirect,\r\n)(Dialogs);","import classes from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n\r\n    let ClickButton = () => {\r\n        props.newScore()\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.settings}>\r\n            <div className={classes.settingItem}>\r\n                <button onClick={ClickButton} >Кнопка</button>\r\n            </div>\r\n            <div className={classes.settingvalue}>\r\n                {props.SettingsScore}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import { connect } from \"react-redux\";\r\nimport { SettingsChangeScore } from \"../../redux/profileReducer\";\r\nimport Settings from \"./Settings\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        SettingsScore: state.profilePage.SettingsScore,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        newScore: () => {\r\n            dispatch(SettingsChangeScore())\r\n        }\r\n    }\r\n}\r\n\r\nconst SettingsContainer = connect(mapStateToProps, mapDispatchToProps)(Settings)\r\n\r\nexport default SettingsContainer;","import { authMe, logining, logout } from \"./api\";\r\nimport { stopSubmit } from 'redux-form';\r\n\r\n// Action Type\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst LOGOUT_USER = \"LOGOUT_USER\";\r\n\r\n// Action Creator\r\nexport const setAuthUserData = (id, email, login) => ({ type: SET_USER_DATA, data: { id, email, login } })\r\nexport const logoutUser = () => ({ type: LOGOUT_USER })\r\nexport const authMeThunkCreator = () => async (dispatch) => {\r\n\tlet response = await authMe();\r\n\tlet { login, id, email } = response.data.data;\r\n\tif (!response.data.resultCode) dispatch(setAuthUserData(id, email, login));\r\n}\r\n\r\nexport const loginThunkCreator = ({ email, password, rememberMe }) => async (dispatch) => {\r\n\tlet response = await logining(email, password, rememberMe)\r\n\tif (!response.data.resultCode) dispatch(authMeThunkCreator());\r\n\telse {\r\n\t\tlet errorMessage = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n\t\tdispatch(stopSubmit('login', { _error: errorMessage }));\r\n\t}\r\n}\r\n\r\nexport const logoutProfile = () => async (dispatch) => {\r\n\tlet response = await logout()\r\n\tif (!response.data.resultCode) dispatch(logoutUser());\r\n}\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\tlogin: null,\r\n\temail: null,\r\n\tisFetching: false,\r\n\tisAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.data,\r\n\t\t\t\tisAuth: true,\r\n\t\t\t}\r\n\t\tcase LOGOUT_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuth: false,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default authReducer","import { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <div className={classes.logo}>\r\n                <img src='https://www.webidunya.com/wp-content/uploads/2018/07/logo-tasarim-firmalari.png'></img>\r\n            </div>\r\n            <div className={classes.info}>\r\n                Header\r\n            </div>\r\n            <div className={classes.loginBlock}>\r\n                {props.isAuth ?\r\n                    props.login.toUpperCase() :\r\n                    < NavLink className={classes.loginBlock_Item} to={`/login`}>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header >\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { authMeThunkCreator } from '../../redux/authReduser';\r\nimport Header from './Header';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Header {...this.props} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth, \r\n\tlogin: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, {})(HeaderContainer);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { loginThunkCreator, logoutProfile } from '../../redux/authReduser';\r\nimport { connect } from 'react-redux';\r\nimport styles from \"../common/FormsControls/FormsControls.module.css\"\r\n\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    < form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          component={Input}\r\n          name='email'\r\n          validate={[required]} />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          type=\"text\"\r\n          placeholder=\"Password\"\r\n          component={Input}\r\n          name='password'\r\n          validate={[required]} />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          type=\"checkbox\"\r\n          component={Input}\r\n          name='rememberMe' /> remember me\r\n      </div>\r\n      {props.error &&\r\n        <div className={styles.formSummatyError}>\r\n          {props.error}\r\n        </div>\r\n      }\r\n      <button>Sign up</button>\r\n      <button onClick={props.reset} type='button'>Reset</button>\r\n    </form >\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\" // что то типа идентификатора для формы (не относится не к html не к полю в store)\r\n})(LoginForm)\r\n\r\nlet Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.loginThunkCreator(formData);\r\n  }\r\n  const logout = () => {\r\n    props.logoutProfile();\r\n  }\r\n\r\n  return (\r\n    < div >\r\n      <h1>Login</h1>\r\n      {props.isAuth ?\r\n        <button onClick={logout} type='button' >Logout</button> :\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n      }\r\n    </div >\r\n  )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\nexport default connect(mapStateToProps, { loginThunkCreator, logoutProfile })(Login);","import { authMeThunkCreator } from './authReduser.js'\r\n\r\n// Action Type\r\nconst SET_INITIALIZED = \"SET_INITIALIZED\";\r\n\r\n// Action Creator\r\nexport const setInitialized = () => ({ type: SET_INITIALIZED })\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(authMeThunkCreator());\r\n  Promise.all([promise]) // в массиве может быть много промисов\r\n    .then(() => {\r\n      dispatch(setInitialized())\r\n    })\r\n}\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default appReducer","import './App.css';\r\nimport { BrowserRouter, HashRouter, Route, withRouter } from 'react-router-dom';\r\nimport NavBar from './Components/NavBar/NavBar.jsx';\r\nimport FooterContainer from './Components/Footer/Footer.jsx';\r\nimport News from './Components/News/News.jsx';\r\nimport Music from './Components/Music/Music.jsx';\r\nimport DialogsContainer from './Components/Dialogs/DialogsContainer';\r\nimport SettingsContainer from './Components/Settings/SettingsContainer';\r\n// import UsersContainer from './Components/Users/UsersContainer';\r\n// import ProfileContainer from './Components/Profile/ProfileContainer';\r\nimport HeaderContainer from './Components/Header/HeaderContainer';\r\nimport Login from './Components/Login/Login';\r\nimport React from 'react';\r\nimport { initializeApp } from './redux/appReducer'\r\nimport { connect } from 'react-redux';\r\nimport Preloader from './Components/common/PreLoader/Preloader';\r\nconst UsersContainer = React.lazy(() => import('./Components/Users/UsersContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n  componentWillMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) return <Preloader />\r\n    return (\r\n      <HashRouter>\r\n        <div className=\"wrapper\">\r\n          <div className='app-wrapper'>\r\n            <HeaderContainer />\r\n            <NavBar />\r\n            <React.Suspense fallback={<Preloader />} >\r\n              <div className='app-wrapper-content'>\r\n                <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n                <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n                <Route path='/users' render={() => <UsersContainer />} />\r\n                <Route path='/news' render={() => <News />} />\r\n                <Route path='/music' render={() => <Music />} />\r\n                <Route path='/settings' render={() => <SettingsContainer />} />\r\n                <Route path='/login' render={() => < Login />} />\r\n              </div>\r\n            </React.Suspense>\r\n            <FooterContainer />\r\n          </div>\r\n        </div>\r\n      </HashRouter >\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n})\r\n\r\nexport default connect(mapStateToProps, { initializeApp })(App);\r\n","let initialState = {}\r\n\r\nlet sidebarReducer = (state = initialState, action) => {\r\n    \r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","// Action Type\r\nconst SET_TIME = \"SET_TIME\";\r\n\r\n// Action Creator\r\nexport const setTimeActionCreator = (time) => ({ type: SET_TIME, time })\r\n\r\nlet initialState = {\r\n\ttime: \"time\",\r\n}\r\n\r\nconst footerReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_TIME:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttime: action.time,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default footerReducer;","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport profileReducer from './profileReducer.js';\r\nimport dialogsReducer from './dialogsReducer.js';\r\nimport sidebarReducer from './sidebarReducer.js';\r\nimport usersReducer from './usersReduser.js';\r\nimport authReducer from './authReduser.js';\r\nimport footerReducer from './footerReducer.js';\r\nimport thunkMiddleware from 'redux-thunk'; // то что мы импортируем не является thunk. Thunk это функция, это другое\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './appReducer.js';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    footer: footerReducer,\r\n    form: formReducer,\r\n});\r\n\r\n// подключение redux расширения в браузере\r\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n// let store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\nexport default store;","import reportWebVitals from './reportWebVitals';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './redux/reduxStore.js';\r\nimport { Provider } from 'react-redux';\r\n\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Provider store={store}>\r\n\t\t\t<App />\r\n\t\t</Provider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\nreportWebVitals();","import styles from './FormsControls.module.css';\r\n\r\nconst FormsControl = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={styles.formControl + ' ' + (hasError ? styles.error : null)}>\r\n      <div>\r\n        <props.tagName {...props} {...input}></props.tagName>\r\n      </div>\r\n      {hasError &&\r\n        <span>\r\n          {meta.error}\r\n        </span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  return <FormsControl tagName = 'textarea' {...props}/>\r\n}\r\n\r\nexport const Input = (props) => {\r\n  return <FormsControl tagName = 'input' {...props}/>\r\n}","export const required = value => {\r\n  if (value) return undefined;\r\n  return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n  if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Ei1P\",\"info\":\"Header_info__17ZoZ\",\"logo\":\"Header_logo__2wtuL\",\"loginBlock\":\"Header_loginBlock__2VIuV\",\"loginBlock_Item\":\"Header_loginBlock_Item__2d3JF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__iQSSj\",\"error\":\"FormsControls_error__1OsUA\",\"formSummatyError\":\"FormsControls_formSummatyError__3FCL6\"};","import { getProfile, getStatus, updateStatus } from \"./api\";\r\n\r\n// Action Type\r\nconst ADD_POST = \"ADD_POST\";\r\nconst SETTINGS_CHANGE_SCORE = \"SETTINGS_CHANGE_SCORE\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n\r\n// Action Creator\r\nexport const addPostActionCreator = (postText) => ({ type: ADD_POST, postText })\r\n// временно\r\nexport const SettingsChangeScore = () => ({ type: SETTINGS_CHANGE_SCORE, })\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\n\r\nexport const setStatusThunkCreator = (status) => async (dispatch) => {\r\n\tlet response = await updateStatus(status)\r\n\tif (response.data.resultCode == 0) dispatch(setStatus(status));\r\n}\r\nexport const getStatusThunkCreator = (userID) => async (dispatch) => {\r\n\tlet response = await getStatus(userID)\r\n\tif (response.status == 200) {\r\n\t\tdispatch(setStatus(response.data));\r\n\t}\r\n}\r\n\r\nexport const getUserProfileThunkCreator = (userID) => async (dispatch) => {\r\n\tlet response = await getProfile(userID)\r\n\tdispatch(setUserProfile(response.data));\r\n}\r\n\r\nlet initialState = {\r\n\tprofile: null,\r\n\tposts: [\r\n\t\t{ id: 1, textPost: \"Hi, how are you?\" },\r\n\t\t{ id: 2, textPost: \"It's my first post\" },\r\n\t],\r\n\tnewPostText: 'it_kamasutra',\r\n\tSettingsScore: 0,\r\n\tstatus: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: state.posts.length + 1,\r\n\t\t\t\t// id: 3,\r\n\t\t\t\ttextPost: action.postText,\r\n\t\t\t\t// likesCount: 0,\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t};\r\n\t\tcase SETTINGS_CHANGE_SCORE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tSettingsScore: state.SettingsScore + 1,\r\n\t\t\t}\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile,\r\n\t\t\t}\r\n\t\tcase SET_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default profileReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__qw6O9\",\"settingItem\":\"Settings_settingItem__1DMUw\",\"settingvalue\":\"Settings_settingvalue__nQJYu\"};","import React from 'react'\r\nimport classes from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n\r\n  return (\r\n    <div className={classes.preloader}>\r\n      <div className={classes.spinner}></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2potu\",\"spinner\":\"Preloader_spinner__1Uv3K\",\"spin\":\"Preloader_spin__16X6D\"};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\n// hoc это добавление компоненте дополнительных опций, за счет еще одного оборачивания в контейнерную компоненту\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}"],"sourceRoot":""}