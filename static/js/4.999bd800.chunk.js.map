{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/images/AvaSmall.png","Components/Users/Users.module.css","Components/Paginator/Paginator.module.css","Components/Users/User.jsx","Components/Paginator/Paginator.jsx","Components/Users/Users.jsx","../node_modules/reselect/es/index.js","redux/usersSelectors.js","Components/Users/UsersContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","User","item","followingIsProgress","follow","followThunkCreator","unfollow","unfollowThunkCreator","className","classes","UserContent","face","avatar","to","id","src","photos","large","UserPhotoSmall","alt","followed","disabled","some","onClick","info","name","surname","status","location","city","country","Paginator","totalUsersCount","pageSize","currentPage","chengeCurrentPage","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","portionLeftBorder","portionRightBorder","styles","wrapper","content","circle","buttonArrow","buttonPagination","right","filter","page","map","selectedPage","left","Users","props","UsersContent","isFetching","Preloader","users","index","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","getDependencies","funcs","dependencies","every","dep","dependencyTypes","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","concat","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getFetching","getFollowingIsProgress","UsersAPIContainer","this","React","Component","compose","connect","Selectors","toggleFollowingProgress","getUsersThunkCreator","withAuthRedirect"],"mappings":"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","file":"static/js/4.999bd800.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default __webpack_public_path__ + \"static/media/AvaSmall.7ee9caee.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserContent\":\"Users_UserContent__3abCj\",\"face\":\"Users_face__2dGmb\",\"avatar\":\"Users_avatar__3kxDL\",\"follow\":\"Users_follow__1PQ26\",\"info\":\"Users_info__4A2-s\",\"name\":\"Users_name__3tC81\",\"surname\":\"Users_surname__czpQ3\",\"status\":\"Users_status__3KQT_\",\"location\":\"Users_location__ApFOL\",\"city\":\"Users_city__2E9Sz\",\"country\":\"Users_country__2CR4o\",\"more\":\"Users_more__2RXb-\",\"pages\":\"Users_pages__3Wx2B\",\"selectedPage\":\"Users_selectedPage__3hZFs\",\"UsersContent\":\"Users_UsersContent__2nlC0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages\":\"Paginator_pages__1fh2l\",\"selectedPage\":\"Paginator_selectedPage__2T8dP\",\"buttonArrow\":\"Paginator_buttonArrow__3l6fZ\",\"buttonPagination\":\"Paginator_buttonPagination__165nb\",\"circle\":\"Paginator_circle__3fOni\",\"wrapper\":\"Paginator_wrapper__3NIBi\",\"content\":\"Paginator_content__-R5Y4\"};","import UserPhotoSmall from '../../assets/images/AvaSmall.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Users.module.css';\r\n\r\n//followingIsProgress - это массив id пользователей которые находятся в ожидании ответа сервера на follow/unfollow\r\nfunction User({ item, followingIsProgress, followThunkCreator:follow, unfollowThunkCreator:unfollow }) {\r\n  return (\r\n    <div key={item.id} className={classes.UserContent}>\r\n      <div className={classes.face}>\r\n        <div className={classes.avatar}>\r\n          <NavLink to={'/profile/' + item.id}>\r\n            <img src={(item.photos.large) ? item.photos.large : UserPhotoSmall} alt=\"avatar\" />\r\n          </NavLink >\r\n        </div>\r\n        <div className={classes.follow}>\r\n          {item.followed\r\n            ? <button disabled={followingIsProgress.some(id => id == item.id)} onClick={() => unfollow(item.id)}>\r\n              UNFOLLOW\r\n              </button>\r\n\r\n            : <button disabled={followingIsProgress.some(id => id == item.id)} onClick={() => follow(item.id)}>\r\n              FOLLOW\r\n              </button>\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className={classes.info}>\r\n        <div className={classes.name}>\r\n          <div className={classes.surname}>{item.name}</div>\r\n          <div className={classes.status}>{item.status}</div>\r\n        </div>\r\n        <div className={classes.location}>\r\n          <div className={classes.city}>{\"item.location.city\"}</div>\r\n          <div className={classes.country}>{\"item.location.country\"}</div>\r\n        </div>\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default User;","import { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\n\r\nfunction Paginator({ totalUsersCount, pageSize, currentPage, chengeCurrentPage, portionSize = 5 }) {\r\n\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize); // округление вверх\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let portionLeftBorder = (portionNumber - 1) * portionSize;\r\n  let portionRightBorder = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.content}>\r\n        <div className={styles.circle} onClick={() => setPortionNumber(1)}>\r\n          <button className={styles.buttonArrow} >{\"<<\"}</button>\r\n        </div>\r\n        <div className={styles.circle} onClick={() => setPortionNumber(portionNumber - 1)}>\r\n          <button\r\n            className={styles.buttonPagination + ' ' + styles.right}\r\n            disabled={portionNumber == 1}\r\n          >Prev</button>\r\n        </div>\r\n        <div className={styles.pages}>\r\n          {\r\n            pages.filter(page => page > portionLeftBorder && page <= portionRightBorder)\r\n              .map(page => {\r\n                return (\r\n                  <div\r\n                    key={page}\r\n                    className={styles.circle}\r\n                    onClick={() => chengeCurrentPage(page)}\r\n                  >\r\n                    <span\r\n                      className={currentPage === page && styles.selectedPage || null}>\r\n                      {page}\r\n                    </span>\r\n                  </div>\r\n                )\r\n              })\r\n          }\r\n        </div>\r\n        <div className={styles.circle} onClick={() => setPortionNumber(portionNumber + 1)}>\r\n          <button\r\n            className={styles.buttonPagination + ' ' + styles.left}\r\n            disabled={portionNumber == portionCount}\r\n          >Next</button>\r\n        </div>\r\n        <div className={styles.circle} onClick={() => setPortionNumber(portionCount)}>\r\n          <button className={styles.buttonArrow} >{\">>\"}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport Preloader from '../common/PreLoader/Preloader.jsx';\r\nimport User from './User.jsx';\r\nimport Paginator from '../Paginator/Paginator';\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n  return (\r\n    < div className={classes.UsersContent}>\r\n      <Paginator\r\n        totalUsersCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n        chengeCurrentPage={props.chengeCurrentPage}\r\n        currentPage={props.currentPage}\r\n      />\r\n      {(props.isFetching) ? // PreLoader\r\n        <Preloader /> :\r\n        props.users.map((item, index) =>\r\n          <div key={index}>\r\n            <User item={item}\r\n              key={index}\r\n              unfollowThunkCreator={props.unfollowThunkCreator}\r\n              followThunkCreator={props.followThunkCreator}\r\n              followingIsProgress={props.followingIsProgress} />\r\n          </div>\r\n        )\r\n      }\r\n      {/* < div className={classes.more}>\r\n        <button>SEND MORE</button>\r\n      </div> */}\r\n    </div >\r\n  )\r\n}\r\nexport default Users;","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersPrimitiveSelector = (state) => {\r\n  return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersPrimitiveSelector, (users) => {\r\n  return users;\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingIsProgress= (state) => {\r\n  return state.usersPage.followingIsProgress;\r\n}","import { connect } from \"react-redux\";\r\nimport React from 'react';\r\nimport { follow, unfollow, chengeCurrentPage, toggleFollowingProgress, getUsersThunkCreator, followThunkCreator, unfollowThunkCreator } from \"../../redux/usersReduser\";\r\nimport Users from \"./Users\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n// import { getCurrentPage, getFollowingIsProgress, getPageSize, getTotalUsersCount, getUsers, getFetching } from \"../../redux/usersSelectors\";\r\nimport * as Selectors from \"../../redux/usersSelectors\";\r\n\r\n// Классовая компонента (как понял это предок Хуков)\r\nclass UsersAPIContainer extends React.Component {\r\n\r\n  // вызывается 1 раз при переходе на /users\r\n  // constructor(props) {\r\n  //   super(props);\r\n  // }\r\n\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  chengeCurrentPage = (currentPage) => {\r\n    this.props.getUsers(currentPage, this.props.pageSize)\r\n  }\r\n  // в реакте главный метод объекта класса\r\n  render() {\r\n    return <Users\r\n      totalUsersCount={this.props.totalUsersCount}\r\n      pageSize={this.props.pageSize}\r\n      chengeCurrentPage={this.chengeCurrentPage}\r\n      users={this.props.users}\r\n      unfollow={this.props.unfollow}\r\n      follow={this.props.follow}\r\n      currentPage={this.props.currentPage}\r\n      isFetching={this.props.isFetching}\r\n      followingIsProgress={this.props.followingIsProgress}\r\n      unfollowThunkCreator={this.props.unfollowThunkCreator}\r\n      followThunkCreator={this.props.followThunkCreator}\r\n    />\r\n  }\r\n}\r\n\r\n\r\n// компонента перересовывается только если что то меняется в этих свойствах state\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: Selectors.getUsers(state),\r\n    pageSize: Selectors.getPageSize(state),\r\n    totalUsersCount: Selectors.getTotalUsersCount(state),\r\n    currentPage: Selectors.getCurrentPage(state),\r\n    isFetching: Selectors.getFetching(state),\r\n    followingIsProgress: Selectors.getFollowingIsProgress(state),\r\n  }\r\n}\r\n\r\n\r\n\r\n// const UsersContainer = connect(mapStateToProps, mapDispatchToProps)(UsersAPIContainer)\r\n// const UsersContainer = withAuthRedirect(connect\r\n//   (mapStateToProps, { follow, unfollow, unfollowThunkCreator, followThunkCreator, chengeCurrentPage, toggleFollowingProgress, getUsers: getUsersThunkCreator })(UsersAPIContainer))\r\n// функция connect автоматически определяет что ей пришла не функция, а объект. Автоматически обертывает callback`ами (диспатчами)\r\n\r\nexport default compose(\r\n  connect (mapStateToProps, { follow, unfollow, unfollowThunkCreator, followThunkCreator, chengeCurrentPage, toggleFollowingProgress, getUsers: getUsersThunkCreator }),\r\n  withAuthRedirect,\r\n  )(UsersAPIContainer);\r\n\r\n// в одном файле лежит 2 контейнерные компоненты. Та которая создается с помощью connect оборачивает вторую контейнерную компоненту. То есть оборачивам контейнерную компоненту контейнерной компонентой"],"sourceRoot":""}