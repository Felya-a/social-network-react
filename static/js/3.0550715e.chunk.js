(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{294:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var s=o(97);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var o=[],s=!0,a=!1,n=void 0;try{for(var i,r=e[Symbol.iterator]();!(s=(i=r.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(c){a=!0,n=c}finally{try{s||null==r.return||r.return()}finally{if(a)throw n}}return o}}(e,t)||Object(s.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},295:function(e,t,o){"use strict";t.a=o.p+"static/media/AvaSmall.7ee9caee.png"},297:function(e,t,o){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3r7xK",avatarBlock:"ProfileInfo_avatarBlock__2rKnn",inputPhoto:"ProfileInfo_inputPhoto__I38Zw",status:"ProfileInfo_status__3GE-c"}},299:function(e,t,o){e.exports={postsHeader:"MyPosts_postsHeader__2alhm",submit:"MyPosts_submit__2mTaz",reset:"MyPosts_reset__2Hxxm",posts:"MyPosts_posts__1Zmyu"}},300:function(e,t,o){e.exports={item:"Post_item__2zumy"}},301:function(e,t,o){e.exports={profileForm:"ProfileDataEdit_profileForm__d9k4l",field:"ProfileDataEdit_field__2xXpG"}},303:function(e,t,o){"use strict";o.r(t);var s=o(3),a=o(29),n=o(30),i=o(32),r=o(31),c=o(0),l=o.n(c),u=o(12),b=o(58),j=o(129),d=o(130),f=o(299),p=o.n(f),m=o(300),O=o.n(m),h=o(1),x=function(e){return Object(h.jsx)("div",{className:O.a.item,children:e.textPost})},v=o(40),k=o(38),g=Object(v.a)(10),y=Object(d.a)({form:"post"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)(j.a,{cols:"30",rows:"3",component:k.b,name:"postText",validate:[v.b,g]}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{className:p.a.submit,type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(h.jsx)("button",{className:p.a.reset,type:"reset",onClick:e.reset,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]})})),P=l.a.memo((function(e){var t=e.posts.map((function(e){return Object(h.jsx)(x,{textPost:e.textPost})}));return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:p.a.postsHeader,children:"My posts"}),Object(h.jsx)(y,{onSubmit:function(t){e.addPost(t.postText)}}),Object(h.jsx)("div",{className:p.a.posts,children:t})]})})),_=Object(u.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(b.b)(t))}}}))(P),w=o(294),N=o(89),M=o(297),S=o.n(M),C=o(295),T=function(e){var t=Object(c.useState)(!1),o=Object(w.a)(t,2),s=o[0],a=o[1],n=Object(c.useState)(e.status),i=Object(w.a)(n,2),r=i[0],l=i[1];Object(c.useEffect)((function(){l(e.status)}),[e.status]);var u=function(){a(!s),s&&e.status!=r&&e.setStatusThunkCreator(r)};return Object(h.jsx)("div",{className:S.a.status,children:s?Object(h.jsx)("div",{children:Object(h.jsx)("input",{onChange:function(e){l(e.target.value)},autoFocus:!0,onBlur:u,type:"text",value:r})}):e.isOwner?Object(h.jsx)("span",{disabled:!0,onDoubleClick:u,children:e.status||"-------"}):Object(h.jsx)("span",{disabled:!0,children:e.status||"-------"})})},I=function(e){var t=e.contactTitle,o=e.contactValue;return Object(h.jsxs)("div",{children:["".concat(t[0].toUpperCase()).concat(t.slice(1)),": ",Object(h.jsx)("a",{href:"https:/"+o,children:o})]})},D=function(e){var t=e.profile,o=e.isOwner,s=e.setEditMode;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["Looking for a job: ",t.lookingForAJob?"Yes":"No"]}),t.lookingForAJobDescription&&Object(h.jsxs)("div",{children:["My professionals skills: ",t.lookingForAJobDescription]}),t.aboutMe&&Object(h.jsxs)("div",{children:["About me: ",t.aboutMe]}),Object.keys(t.contacts).map((function(e){if(t.contacts[e])return Object(h.jsx)(I,{contactTitle:e,contactValue:t.contacts[e]},e)})),o&&Object(h.jsx)("button",{onClick:s,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]})},E=o(301),A=o.n(E),F=o(51),L=o.n(F),H=Object(d.a)({form:"editProfile"})((function(e){return Object(h.jsxs)("form",{action:"",onSubmit:e.handleSubmit,className:A.a.profileForm,children:[Object(h.jsx)("button",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(h.jsx)("button",{onClick:function(){e.reset(),e.setEditMode()},type:"button",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),e.error&&Object(h.jsx)("div",{className:L.a.formSummatyError,children:Object(h.jsx)("div",{children:e.error})}),Object(h.jsx)("label",{for:"job",children:"Looking for a job"}),Object(h.jsx)(j.a,{className:A.a.field,type:"checkbox",component:k.a,name:"lookingForAJob",id:"job"}),Object(h.jsx)("label",{for:"jobDesk",children:"My professional skills:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.b,name:"lookingForAJobDescription",id:"jobDesk"}),Object(h.jsx)("label",{for:"aboutMe",children:"About me:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.b,name:"aboutMe",id:"aboutMe"}),Object(h.jsx)("label",{for:"gitHub",children:"GitHub:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.a,name:"github",id:"gitHub"}),Object(h.jsx)("label",{for:"vk",children:"VK:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.a,name:"vk",id:"vk",value:"Hello"}),Object(h.jsx)("label",{for:"facebook",children:"Facebook:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.a,name:"facebook",id:"facebook"}),Object(h.jsx)("label",{for:"instagram",children:"Instagram:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.a,name:"instagram",id:"instagram"}),Object(h.jsx)("label",{for:"twitter",children:"Twitter:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.a,name:"twitter",id:"twitter"}),Object(h.jsx)("label",{for:"website",children:"Website:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.a,name:"website",id:"website"}),Object(h.jsx)("label",{for:"mainlink",children:"MainLink:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.a,name:"mainLink",id:"mainlink"}),Object(h.jsx)("label",{for:"youtube",children:"Youtube:"}),Object(h.jsx)(j.a,{className:A.a.field,component:k.a,name:"youtube",id:"youtube"})]})})),B=Object(u.b)((function(e){return{initialValues:Object(s.a)(Object(s.a)(Object(s.a)({},e.profilePage.profile),e.profilePage.profile.contacts),{},{contacts:null}),profile:e.profilePage.profile}}),{updateDataProfile:b.i})((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(H,{setEditMode:e.setEditMode,initialValues:e.initialValues,onSubmit:function(t){console.log(t);var o=Object(s.a)(Object(s.a)({},t),{},{contacts:{github:t.github,vk:t.vk,facebook:t.facebook,instagram:t.instagram,twitter:t.twitter,website:t.website,youtube:t.youtube,mainLink:t.mainlink}});e.updateDataProfile(o).then((function(){e.setEditMode()}))}})})})),J=function(e){var t=Object(c.useState)(!1),o=Object(w.a)(t,2),s=o[0],a=o[1];return Object(h.jsx)("div",{children:e.profile?Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:S.a.avatarBlock,children:Object(h.jsx)("img",{src:e.profile.photos.large||C.a,alt:""})}),Object(h.jsxs)("div",{className:S.a.descriptionBlock,children:[e.isOwner?Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"file",id:"file_photo",className:S.a.inputPhoto,onChange:function(t){e.savePhoto(t.target.files[0])}}),Object(h.jsx)("label",{for:"file_photo",children:Object(h.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})})]}):null,Object(h.jsx)("h4",{children:e.profile.fullName}),Object(h.jsx)(T,{setStatusThunkCreator:e.setStatusThunkCreator,status:e.status,isOwner:e.isOwner}),Object(h.jsx)("br",{}),s?Object(h.jsx)(B,{setEditMode:function(){return a(!1)}}):Object(h.jsx)(D,{profile:e.profile,setEditMode:function(){return a(!0)},isOwner:e.isOwner})]})]}):Object(h.jsx)(N.a,{})})},V=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(J,Object(s.a)({},e)),Object(h.jsx)(_,{})]})},U=o(10),G=o(98),K=o(11),z=function(e){Object(i.a)(o,e);var t=Object(r.a)(o);function o(){return Object(a.a)(this,o),t.apply(this,arguments)}return Object(n.a)(o,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId||this.props.userLoginID;this.props.getStatusThunkCreator(e),this.props.getUserProfileThunkCreator(e)}},{key:"componentWillMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId==e.match.params.userId&&this.props.userLoginID==e.userLoginID||this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(V,Object(s.a)(Object(s.a)({},this.props),{},{savePhoto:this.props.savePhotoThunkCreator,isOwner:!this.props.match.params.userId}))}}]),o}(l.a.Component);t.default=Object(K.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userLoginID:e.auth.id}}),{setUserProfile:b.h,getUserProfileThunkCreator:b.e,setStatusThunkCreator:b.g,getStatusThunkCreator:b.d,savePhotoThunkCreator:b.f}),U.f,G.a)(z)}}]);
//# sourceMappingURL=3.0550715e.chunk.js.map